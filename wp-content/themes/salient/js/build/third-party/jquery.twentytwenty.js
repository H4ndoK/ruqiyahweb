!function(t){"function"==typeof define&&define.amd?define(["jquery"],t):t(jQuery)}(function(t,e){var n=6,i=t.event.add,a=t.event.remove,o=function(e,n,i){t.event.trigger(n,i,e)},r=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t,e){return window.setTimeout(function(){t()},25)},d={textarea:!0,input:!0,select:!0,button:!0},c={move:"mousemove",cancel:"mouseup dragstart",end:"mouseup"},s={move:"touchmove",cancel:"touchend",end:"touchend"};function u(t){var e=t,n=!1,i=!1;function a(t){n?(e(),r(a),i=!0,n=!1):i=!1}this.kick=function(t){n=!0,i||a()},this.end=function(t){var a=e;t&&(i?(e=n?function(){a(),t()}:t,n=!0):t())}}function f(){return!0}function m(){return!1}function v(t){t.preventDefault()}function p(t){d[t.target.tagName.toLowerCase()]||t.preventDefault()}function g(t,e){var n,i;if(t.identifiedTouch)return t.identifiedTouch(e);for(n=-1,i=t.length;++n<i;)if(t[n].identifier===e)return t[n]}function l(t,e){var n=g(t.changedTouches,e.identifier);if(n&&(n.pageX!==e.pageX||n.pageY!==e.pageY))return n}function h(t){S(t,t.data,t,y)}function w(t){y()}function y(){a(document,c.move,h),a(document,c.cancel,w)}function Y(t){var e=t.data,n=l(t,e);n&&S(t,e,n,T)}function X(t){var e=t.data;g(t.changedTouches,e.identifier)&&T(e.identifier)}function T(t){a(document,"."+t,Y),a(document,"."+t,X)}function S(t,e,i,a){var r=i.pageX-e.startX,d=i.pageY-e.startY;r*r+d*d<n*n||function(t,e,n,i,a,r){var d,c;e.target;d=t.targetTouches,c=t.timeStamp-e.timeStamp,e.type="movestart",e.distX=i,e.distY=a,e.deltaX=i,e.deltaY=a,e.pageX=n.pageX,e.pageY=n.pageY,e.velocityX=i/c,e.velocityY=a/c,e.targetTouches=d,e.finger=d?d.length:1,e._handled=_,e._preventTouchmoveDefault=function(){t.preventDefault()},o(e.target,e),r(e.identifier)}(t,e,i,r,d,a)}function _(){return this._handled=f,!1}function k(t){t._handled()}function D(t){var e=t.data.timer;t.data.touch=t,t.data.timeStamp=t.timeStamp,e.kick()}function x(t){var e=t.data.event,n=t.data.timer;a(document,c.move,D),a(document,c.end,x),q(e,n,function(){setTimeout(function(){a(e.target,"click",m)},0)})}function C(t){var e=t.data.event,n=t.data.timer,i=l(t,e);i&&(t.preventDefault(),e.targetTouches=t.targetTouches,t.data.touch=i,t.data.timeStamp=t.timeStamp,n.kick())}function b(t){var e=t.data.event,n=t.data.timer;g(t.changedTouches,e.identifier)&&(!function(t){a(document,"."+t.identifier,C),a(document,"."+t.identifier,b)}(e),q(e,n))}function q(t,e,n){e.end(function(){return t.type="moveend",o(t.target,t),n&&n()})}t.event.special.movestart={setup:function(t,e,n){return i(this,"movestart.move",k),!0},teardown:function(t){return a(this,"dragstart drag",v),a(this,"mousedown touchstart",p),a(this,"movestart",k),!0},add:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(i(this,"dragstart."+t.guid+" drag."+t.guid,v,e,t.selector),i(this,"mousedown."+t.guid,p,e,t.selector))},remove:function(t){"move"!==t.namespace&&"moveend"!==t.namespace&&(a(this,"dragstart."+t.guid+" drag."+t.guid),a(this,"mousedown."+t.guid))},_default:function(t){var n,a;t._handled()&&(n={target:t.target,startX:t.startX,startY:t.startY,pageX:t.pageX,pageY:t.pageY,distX:t.distX,distY:t.distY,deltaX:t.deltaX,deltaY:t.deltaY,velocityX:t.velocityX,velocityY:t.velocityY,timeStamp:t.timeStamp,identifier:t.identifier,targetTouches:t.targetTouches,finger:t.finger},a={event:n,timer:new u(function(e){!function(t,e,n,i){var a=n-t.timeStamp;t.type="move",t.distX=e.pageX-t.startX,t.distY=e.pageY-t.startY,t.deltaX=e.pageX-t.pageX,t.deltaY=e.pageY-t.pageY,t.velocityX=.3*t.velocityX+.7*t.deltaX/a,t.velocityY=.3*t.velocityY+.7*t.deltaY/a,t.pageX=e.pageX,t.pageY=e.pageY}(n,a.touch,a.timeStamp),o(t.target,n)}),touch:e,timeStamp:e},t.identifier===e?(i(t.target,"click",m),i(document,c.move,D,a),i(document,c.end,x,a)):(t._preventTouchmoveDefault(),i(document,s.move+"."+t.identifier,C,a),i(document,s.end+"."+t.identifier,b,a)))}},t.event.special.move={setup:function(){i(this,"movestart.move",t.noop)},teardown:function(){a(this,"movestart.move",t.noop)}},t.event.special.moveend={setup:function(){i(this,"movestart.moveend",t.noop)},teardown:function(){a(this,"movestart.moveend",t.noop)}},i(document,"mousedown.move",function(t){var e;(function(t){return 1===t.which&&!t.ctrlKey&&!t.altKey})(t)&&(e={target:t.target,startX:t.pageX,startY:t.pageY,timeStamp:t.timeStamp},i(document,c.move,h,e),i(document,c.cancel,w,e))}),i(document,"touchstart.move",function(t){var e,n;d[t.target.tagName.toLowerCase()]||(n={target:(e=t.changedTouches[0]).target,startX:e.pageX,startY:e.pageY,timeStamp:t.timeStamp,identifier:e.identifier},i(document,s.move+"."+e.identifier,Y,n),i(document,s.cancel+"."+e.identifier,X,n))}),"function"==typeof Array.prototype.indexOf&&function(t,e){for(var n=["changedTouches","targetTouches"],i=n.length;i--;)-1===t.event.props.indexOf(n[i])&&t.event.props.push(n[i])}(t)}),function(t){t.fn.twentytwenty=function(e){e=t.extend({default_offset_pct:.5,orientation:"horizontal"},e);return this.each(function(){var n=e.default_offset_pct,i=t(this),a=e.orientation,o="vertical"===a?"down":"left",r="vertical"===a?"up":"right";i.wrap("<div class='twentytwenty-wrapper twentytwenty-"+a+"'></div>"),i.append("<div class='twentytwenty-overlay'></div>");var d=i.find("img:first"),c=i.find("img:last");i.append("<div class='twentytwenty-handle'></div>");var s=i.find(".twentytwenty-handle");s.append("<span class='twentytwenty-"+o+"-arrow'></span>"),s.append("<span class='twentytwenty-"+r+"-arrow'></span>"),i.addClass("twentytwenty-container"),d.addClass("twentytwenty-before"),c.addClass("twentytwenty-after");var u=i.find(".twentytwenty-overlay");u.append("<div class='twentytwenty-before-label'></div>"),u.append("<div class='twentytwenty-after-label'></div>");var f=function(t){var e,n,o,r=(e=t,n=d.width(),o=d.height(),{w:n+"px",h:o+"px",cw:e*n+"px",ch:e*o+"px"});s.css("vertical"===a?"top":"left","vertical"===a?r.ch:r.cw),function(t){"vertical"===a?d.css("clip","rect(0,"+t.w+","+t.ch+",0)"):d.css("clip","rect(0,"+t.cw+","+t.h+",0)"),i.css("height",t.h)}(r)};t(window).on("resize.twentytwenty",function(t){f(n)});var m=0,v=0;s.on("movestart",function(t){(t.distX>t.distY&&t.distX<-t.distY||t.distX<t.distY&&t.distX>-t.distY)&&"vertical"!==a?t.preventDefault():(t.distX<t.distY&&t.distX<-t.distY||t.distX>t.distY&&t.distX>-t.distY)&&"vertical"===a&&t.preventDefault(),i.addClass("active"),m=i.offset().left,offsetY=i.offset().top,v=d.width(),imgHeight=d.height()}),s.on("moveend",function(t){i.removeClass("active")}),s.on("move",function(t){i.hasClass("active")&&((n="vertical"===a?(t.pageY-offsetY)/imgHeight:(t.pageX-m)/v)<0&&(n=0),n>1&&(n=1),f(n))}),i.find("img").on("mousedown",function(t){t.preventDefault()}),t(window).trigger("resize.twentytwenty")})}}(jQuery);